{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Desktop\\\\Manali\\\\vaccine_efficacy_jnj\\\\src\\\\App.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nfunction App() {\n  const [file, setFile] = useState(null);\n  const [status, setStatus] = useState('');\n  const [error, setError] = useState('');\n  const onFileChange = event => {\n    setFile(event.target.files[0]);\n    setStatus('');\n    setError('');\n  };\n  const onFileUpload = async () => {\n    if (!file) {\n      setError('No file selected.');\n      return;\n    }\n    setStatus('Uploading file...');\n    setError('');\n    const formData = new FormData();\n    formData.append('file', file);\n    try {\n      const response = await axios.post('http://localhost:5000/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      setStatus('File uploaded successfully. Processing data...');\n\n      // Assuming your backend returns a success message\n      if (response.data === 'Processing Started') {\n        checkProcessingStatus(); // Function to poll or fetch processing status\n      }\n    } catch (error) {\n      console.error('Upload error:', error); // Log the error details\n      setStatus('');\n      setError('Error uploading file: ' + error.message);\n    }\n  };\n  const checkProcessingStatus = async () => {\n    setStatus('Processing data...');\n    try {\n      const statusResponse = await axios.get('http://localhost:5000/processing-status'); // Update the endpoint as needed\n\n      if (statusResponse.data.status === 'completed') {\n        setStatus('Data processed successfully. You can now download the results.');\n      } else if (statusResponse.data.status === 'error') {\n        setStatus('');\n        setError('Error during data processing.');\n      } else {\n        setTimeout(checkProcessingStatus, 5000); // Check every 5 seconds\n      }\n    } catch (error) {\n      console.error('Processing status error:', error); // Log the error details\n      setStatus('');\n      setError('Error checking processing status: ' + error.message);\n    }\n  };\n  const downloadFile = async fileType => {\n    try {\n      const response = await axios.get(`http://localhost:5000/download${fileType}`, {\n        responseType: 'blob'\n      });\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `${fileType}.csv`);\n      document.body.appendChild(link);\n      link.click();\n    } catch (error) {\n      console.error('Download error:', error); // Log the error details\n      setError('Error downloading file: ' + error.message);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, \"Medical Data Extraction\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    onChange: onFileChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: onFileUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, \"Upload\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, status && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 20\n    }\n  }, \"Status: \", status), error && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 19\n    }\n  }, \"Error: \", error)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => downloadFile('Filtered'),\n    disabled: status !== 'Data processed successfully. You can now download the results.',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, \"Download Filtered Data\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => downloadFile('Adverse'),\n    disabled: status !== 'Data processed successfully. You can now download the results.',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, \"Download Adverse Data\")));\n}\nexport default App;","map":{"version":3,"names":["React","useState","axios","App","file","setFile","status","setStatus","error","setError","onFileChange","event","target","files","onFileUpload","formData","FormData","append","response","post","headers","data","checkProcessingStatus","console","message","statusResponse","get","setTimeout","downloadFile","fileType","responseType","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","onClick","style","color","disabled"],"sources":["C:/Users/Dell/Desktop/Manali/vaccine_efficacy_jnj/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction App() {\r\n  const [file, setFile] = useState(null);\r\n  const [status, setStatus] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const onFileChange = (event) => {\r\n    setFile(event.target.files[0]);\r\n    setStatus('');\r\n    setError('');\r\n  };\r\n\r\n  const onFileUpload = async () => {\r\n    if (!file) {\r\n      setError('No file selected.');\r\n      return;\r\n    }\r\n\r\n    setStatus('Uploading file...');\r\n    setError('');\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n\r\n    try {\r\n      const response = await axios.post('http://localhost:5000/upload', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n      setStatus('File uploaded successfully. Processing data...');\r\n      \r\n      // Assuming your backend returns a success message\r\n      if (response.data === 'Processing Started') {\r\n        checkProcessingStatus(); // Function to poll or fetch processing status\r\n      }\r\n    } catch (error) {\r\n      console.error('Upload error:', error); // Log the error details\r\n      setStatus('');\r\n      setError('Error uploading file: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const checkProcessingStatus = async () => {\r\n    setStatus('Processing data...');\r\n\r\n    try {\r\n      const statusResponse = await axios.get('http://localhost:5000/processing-status'); // Update the endpoint as needed\r\n\r\n      if (statusResponse.data.status === 'completed') {\r\n        setStatus('Data processed successfully. You can now download the results.');\r\n      } else if (statusResponse.data.status === 'error') {\r\n        setStatus('');\r\n        setError('Error during data processing.');\r\n      } else {\r\n        setTimeout(checkProcessingStatus, 5000); // Check every 5 seconds\r\n      }\r\n    } catch (error) {\r\n      console.error('Processing status error:', error); // Log the error details\r\n      setStatus('');\r\n      setError('Error checking processing status: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const downloadFile = async (fileType) => {\r\n    try {\r\n      const response = await axios.get(`http://localhost:5000/download${fileType}`, {\r\n        responseType: 'blob',\r\n      });\r\n      const url = window.URL.createObjectURL(new Blob([response.data]));\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.setAttribute('download', `${fileType}.csv`);\r\n      document.body.appendChild(link);\r\n      link.click();\r\n    } catch (error) {\r\n      console.error('Download error:', error); // Log the error details\r\n      setError('Error downloading file: ' + error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Medical Data Extraction</h1>\r\n      <input type=\"file\" onChange={onFileChange} />\r\n      <button onClick={onFileUpload}>Upload</button>\r\n      <div>\r\n        {status && <p>Status: {status}</p>}\r\n        {error && <p style={{ color: 'red' }}>Error: {error}</p>}\r\n      </div>\r\n      <div>\r\n        <button onClick={() => downloadFile('Filtered')} disabled={status !== 'Data processed successfully. You can now download the results.'}>Download Filtered Data</button>\r\n        <button onClick={() => downloadFile('Adverse')} disabled={status !== 'Data processed successfully. You can now download the results.'}>Download Adverse Data</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}